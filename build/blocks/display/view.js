(()=>{"use strict";const e=window.wp.data,t="bsm/store",a={},s="SET_STATE",n="SET_MULTIPLE",i="RESET_STATE",r="DELETE_KEY",l={setState:(e,t)=>({type:s,key:e,value:t}),setMultiple:e=>({type:n,payload:e}),deleteKey:e=>({type:r,key:e}),resetState:(e=a)=>({type:i,initialState:e})},d=(0,e.createReduxStore)(t,{reducer:(e=a,t)=>{switch(t.type){case s:return{...e,[t.key]:t.value};case n:return{...e,...t.payload};case r:const{[t.key]:l,...d}=e;return d;case i:return t.initialState||a;default:return e}},actions:l,selectors:{getState:(e,t)=>e[t],getAllState:e=>e,hasKey:(e,t)=>t in e,getMultiple:(e,t)=>t.reduce((t,a)=>(a in e&&(t[a]=e[a]),t),{})}});(0,e.register)(d),"undefined"!=typeof window&&window.bsmInitialState&&(0,e.dispatch)(t).setMultiple(window.bsmInitialState),document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelectorAll('[data-bsm-bind="bsm/shared-text"]');if(!a.length)return;const s=()=>{const s=(0,e.select)(t).getState("bsm/shared-text")||"";a.forEach(e=>{e.innerHTML=s||'<span class="bsm-display__placeholder">Waiting for input...</span>'})};var n;n=s,(0,e.subscribe)(n),s()})})();