(()=>{"use strict";const e=window.wp.data,t="bsm/store",a={},s="SET_STATE",n="SET_MULTIPLE",i="RESET_STATE",r="DELETE_KEY",c={setState:(e,t)=>({type:s,key:e,value:t}),setMultiple:e=>({type:n,payload:e}),deleteKey:e=>({type:r,key:e}),resetState:(e=a)=>({type:i,initialState:e})},d=(0,e.createReduxStore)(t,{reducer:(e=a,t)=>{switch(t.type){case s:return{...e,[t.key]:t.value};case n:return{...e,...t.payload};case r:const{[t.key]:c,...d}=e;return d;case i:return t.initialState||a;default:return e}},actions:c,selectors:{getState:(e,t)=>e[t],getAllState:e=>e,hasKey:(e,t)=>t in e,getMultiple:(e,t)=>t.reduce((t,a)=>(a in e&&(t[a]=e[a]),t),{})}});(0,e.register)(d);const l=()=>(0,e.dispatch)(t),o=()=>(0,e.select)(t);"undefined"!=typeof window&&window.bsmInitialState&&(0,e.dispatch)(t).setMultiple(window.bsmInitialState),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll('[data-bsm-input="bsm/shared-text"]');if(!t.length)return;const a="bsm/shared-text";void 0===o().getState(a)&&l().setState(a,"");const s=()=>{const e=o().getState(a)||"";t.forEach(t=>{document.activeElement!==t&&(t.value=e)})};var n;n=s,(0,e.subscribe)(n),t.forEach(e=>{e.addEventListener("input",e=>{l().setState(a,e.target.value)})}),s()})})();